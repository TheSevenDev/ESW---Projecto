@model IEnumerable<CIMOB_IPS.Models.Application>

@{
    ViewData["Title"] = "Minhas Candidaturas";
}

<link rel="stylesheet" href='@Url.Content("~/css/registo.css")' />
<link rel="stylesheet" href='@Url.Content("~/css/site.css")' />

<h2 class="page-title" style="margin-top:2%;">Minhas Candidaturas</h2>

<!--ALTERAR-->
<button type="button" onclick="location.href='@Url.Action("MyApplications", "Application")'" >Ver Programas</button>

@if (Model.Count() == 0)
{
    <p>Não existem candidaturas efectuadas!</p>
}
else
{
    @foreach (var item in Model)
    {
        <h4>@Html.DisplayNameFor(model => item.IdProgramNavigation) @Html.DisplayFor(modelItem => item.IdProgramNavigation.Name)</h4>

        <p><b>@Html.DisplayNameFor(modelItem => item.ApplicationDate): </b>@Html.DisplayFor(modelItem => item.ApplicationDate)</p>
        <p><b>@Html.DisplayNameFor(modelItem => item.IdStateNavigation): </b>@Html.DisplayFor(modelItem => item.IdStateNavigation.Description)</p>
        <p><b>@Html.DisplayNameFor(model => model.ApplicationInstitutions)</b></p>
        <ul>
            @foreach (var institution in item.ApplicationInstitutions)
            {
                <li>
                    @Html.DisplayFor(modelItem => institution.IdInstitutionNavigation.Name)
                </li>
            }
        </ul>

        @if (item.FinalEvaluation == 0)
        {
            <p><b>@Html.DisplayNameFor(model => model.FinalEvaluation):</b> N/A</p>
        }
        else
        {
            <p><b>@Html.DisplayNameFor(model => model.FinalEvaluation):</b> @Html.DisplayFor(modelItem => item.FinalEvaluation)</p>
        }
    }
}