@model IEnumerable<CIMOB_IPS.Models.Program>


<link rel="stylesheet" href='@Url.Content("~/css/program.css")' />
<div class="TitleDiv"> <img draggable="false" src="~/images/bannerPrincipal.jpg" /> </div>

<div class="programs-display">

    <table style="width:60%; background-color:transparent">
        <tr>
            <td>
                <table style="width:25%; margin-left:0%;">
                    <tr>
                        <td>
                            <img draggable="false" src="~/images/Erasmus-logo1.jpg" />
                        </td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>
                            @foreach (var item in Model)
                            {
                                if (item.IdProgramTypeNavigation.Name.Equals("Erasmus+"))
                                {
                                    if (item.isOpenProgram())
                                    {
                                        <button asp-area="" onclick="javascript: openErasmus();">Programas Disponíveis</button>
                                    }
                                    else
                                    {
                                        <button asp-area="" asp-controller="Application" class="btn-program-actions" onclick="location.href='@Url.Action("Details", "Program", new { programID = item.IdProgram })'">Mais informações</button>
                                    }
                                }
                            }
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div id="erasmus-programs" style="display:none">
                                @foreach (var item in Model)
                                {
                                    if (item.IdProgramTypeNavigation.Name.Equals("Erasmus+"))
                                    {
                                        if (item.ClosingDate > DateTime.Now)
                                        {
                                            <div class="program-info">
                                                <p>Data de Abertura: @Html.DisplayFor(i => item.OpenDate)</p>
                                                <p>Data de Fecho: @Html.DisplayFor(i => item.ClosingDate)</p>
                                                <p>Vagas: @Html.DisplayFor(i => item.Vacancies) </p>
                                                <div id="btn-program">
                                                    @if (!(User.IsInRole("tecnico") || User.IsInRole("tecnico_admin")) && item.Vacancies > 0 && User.Identity.IsAuthenticated)
                                                    {
                                                        <button asp-area="" asp-controller="Application" asp-action="New" class="btn-program-actions">Candidatura</button>
                                                    }
                                                    <button asp-area="" asp-controller="Application" class="btn-program-actions" onclick="location.href='@Url.Action("Details", "Program", new { programID = item.IdProgram })'">Mais informações</button>
                                                </div>
                                            </div>
                                        }
                                    }

                                }
                            </div>
                        </td>
                    </tr>
                </table>
            </td>

            <td>
                <table style="width:25%; margin-left:15%;">
                    <tr>
                        <td>
                            <img draggable="false" src="~/images/bannerLuso.jpg" />
                        </td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>
                            @foreach (var item in Model)
                            {
                                if (item.IdProgramTypeNavigation.Name.Equals("Programa de Bolsas Luso-Brasileiras"))
                                {
                                    if (item.isOpenProgram())
                                    {
                                        <button asp-area="" onclick="javascript: openLusoBras();">Programas Disponíveis</button>
                                    }
                                    else
                                    {
                                        <button asp-area="" class="btn-program-actions" onclick="location.href='@Url.Action("Details", "Program", new { programID = item.IdProgram })'">Mais Informações</button>
                                    }
                                }
                            }
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div id="lusoBrasileiras-programs" style="display:none">
                                @foreach (var item in Model)
                                {
                                    if (item.IdProgramTypeNavigation.Name.Equals("Programa de Bolsas Luso-Brasileiras"))
                                    {
                                        if (item.ClosingDate > DateTime.Now)
                                        {
                                            <div class="program-info">
                                                <p>Data de Abertura: @Html.DisplayFor(i => item.OpenDate)</p>
                                                <p>Data de Fecho: @Html.DisplayFor(i => item.ClosingDate)</p>
                                                <p>Vagas: @Html.DisplayFor(i => item.Vacancies) </p>
                                                <div id="btn-program">
                                                    @if (!(User.IsInRole("tecnico") || User.IsInRole("tecnico_admin")) && item.Vacancies > 0 && User.Identity.IsAuthenticated)
                                                    {
                                                        <button asp-area="" class="btn-program-actions" onclick="location.href='@Url.Action("Details", "Program", new { programID = item.IdProgram })'">Candidatura</button>
                                                    }
                                                    <button asp-area="" class="btn-program-actions" onclick="location.href='@Url.Action("Details", "Program", new { programID = item.IdProgram })'">Mais Informações</button>
                                                </div>
                                            </div>
                                        }
                                    }
                                }
                            </div>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>

        <tr>
            <td>
                <table style="width:25%; margin-left:0%;margin-top:15%;">
                    <tr>
                        <td>
                            <img draggable="false" src="~/images/bannerIbero.jpg" />
                        </td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>
                            @foreach (var item in Model)
                            {
                                if (item.IdProgramTypeNavigation.Name.Equals("Programa de Bolsas Ibero-Americanas"))
                                {
                                    if (item.isOpenProgram())
                                    {
                                        <button asp-area="" onclick="javascript: openIberoAmeric();">Programas Disponíveis</button>
                                    }
                                    else
                                    {
                                        <button asp-area="" class="btn-program-actions" onclick="location.href='@Url.Action("Details", "Program", new { programID = item.IdProgram })'">Mais Informações</button>
                                    }
                                }
                            }
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div id="ibero-Americanas-programs" style="display:none">
                                @foreach (var item in Model)
                                {
                                    if (item.IdProgramTypeNavigation.Name.Equals("Programa de Bolsas Ibero-Americanas"))
                                    {
                                        if (item.ClosingDate > DateTime.Now)
                                        {
                                            <div class="program-info">
                                                <p>Data de Abertura: @Html.DisplayFor(i => item.OpenDate)</p>
                                                <p>Data de Fecho: @Html.DisplayFor(i => item.ClosingDate)</p>
                                                <p>Vagas: @Html.DisplayFor(i => item.Vacancies) </p>
                                                <div id="btn-program">
                                                    @if (!(User.IsInRole("tecnico") || User.IsInRole("tecnico_admin")) && item.Vacancies > 0 && User.Identity.IsAuthenticated)
                                                    {
                                                        <button asp-area="" class="btn-program-actions" onclick="location.href='@Url.Action("Details", "Program", new { programID = item.IdProgram })'">Candidatura</button>
                                                    }
                                                    <button asp-area="" class="btn-program-actions" onclick="location.href='@Url.Action("Details", "Program", new { programID = item.IdProgram })'">Mais Informações</button>
                                                </div>
                                            </div>
                                        }
                                    }
                                }
                            </div>
                        </td>
                    </tr>
                </table>
            </td>

            <td>
                <table style="width:25%; margin-left:15%;margin-top:15%;">
                    <tr>
                        <td>
                            <img draggable="false" src="~/images/vasco-logo.jpg" />
                        </td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>
                            @foreach (var item in Model)
                            {
                                if (item.IdProgramTypeNavigation.Name.Equals("Programa Vasco da Gama"))
                                {
                                    if (item.isOpenProgram())
                                    {
                                        <button asp-area="" onclick="javascript: openVascoGama();">Programas Disponíveis</button>
                                    }
                                    else
                                    {
                                        <button asp-area="" class="btn-program-actions" onclick="location.href='@Url.Action("Details", "Program", new { programID = item.IdProgram })'">Mais Informações</button>
                                    }
                                }
                            }
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div id="vascoGama-programs" style="display:none">
                                @foreach (var item in Model)
                                {
                                    if (item.IdProgramTypeNavigation.Name.Equals("Programa Vasco da Gama"))
                                    {
                                        if (item.ClosingDate > DateTime.Now)
                                        {
                                            <div class="program-info">
                                                <p>Data de Abertura: @Html.DisplayFor(i => item.OpenDate)</p>
                                                <p>Data de Fecho: @Html.DisplayFor(i => item.ClosingDate)</p>
                                                <p>Vagas: @Html.DisplayFor(i => item.Vacancies) </p>
                                                <div id="btn-program">
                                                    @if (!(User.IsInRole("tecnico") || User.IsInRole("tecnico_admin")) && item.Vacancies > 0 && User.Identity.IsAuthenticated)
                                                    {
                                                        <button asp-area="" class="btn-program-actions" onclick="location.href='@Url.Action("Details", "Program", new { programID = item.IdProgram })'">Candidatura</button>
                                                    }
                                                    <button asp-area="" class="btn-program-actions" onclick="location.href='@Url.Action("Details", "Program", new { programID = item.IdProgram })'">Mais Informações</button>
                                                </div>
                                            </div>
                                        }
                                    }
                                }
                            </div>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td>
                <table style="width:25%;margin-top:15%">
                    <tr>
                        <td>
                            <img draggable="false" src="~/images/logo-macaupoly.jpg" />
                        </td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>
                            @foreach (var item in Model)
                            {
                                if (item.IdProgramTypeNavigation.Name.Equals("Programa Instituto Politécnico de Macau"))
                                {
                                    if (item.isOpenProgram())
                                    {
                                        <button asp-area="" onclick=" javascript:openMacau();">Programas Disponíveis</button>
                                    }
                                    else
                                    {
                                        <button asp-area="" class="btn-program-actions" onclick="location.href='@Url.Action("Details", "Program", new { programID = item.IdProgram })'">Mais Informações</button>
                                    }
                                }
                            }
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div id="macau-programs" style="display:none">
                                @foreach (var item in Model)
                                {
                                    if (item.IdProgramTypeNavigation.Name.Equals("Programa Instituto Politécnico de Macau"))
                                    {
                                        if (item.ClosingDate > DateTime.Now)
                                        {
                                            <div class="program-info">
                                                <p>Data de Abertura: @Html.DisplayFor(i => item.OpenDate)</p>
                                                <p>Data de Fecho: @Html.DisplayFor(i => item.ClosingDate)</p>
                                                <p>Vagas: @Html.DisplayFor(i => item.Vacancies) </p>
                                                <div id="btn-program">
                                                    @if (!(User.IsInRole("tecnico") || User.IsInRole("tecnico_admin")) && item.Vacancies > 0 && User.Identity.IsAuthenticated)
                                                    {
                                                        <button asp-area="" class="btn-program-actions" onclick="location.href='@Url.Action("Details", "Program", new { programID = item.IdProgram })'">Candidatura</button>
                                                    }
                                                    <button asp-area="" class="btn-program-actions" onclick="location.href='@Url.Action("Details", "Program", new { programID = item.IdProgram })'">Mais Informações</button>
                                                </div>
                                            </div>
                                        }
                                    }
                                }
                            </div>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</div>